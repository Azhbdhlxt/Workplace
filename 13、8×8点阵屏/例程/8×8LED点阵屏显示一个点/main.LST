C51 COMPILER V9.00   MAIN                                                                  02/23/2018 16:28:58 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /*********************************************************************************
   2          * 【作    者】：        清翔电子:向量
   3          * 【版    本】：        V1.0
   4          * 【网    站】：        http://www.qxmcu.com/ 
   5          * 【淘宝店铺】：        http://qxmcu.taobao.com/
   6          * 【实验平台】：        清翔 QX-MCS51 单片机开发板
   7          * 【外部晶振】：        11.0592mhz      
   8          * 【主控芯片】：        STC89C52
   9          * 【编译环境】：        Keil μVisio4   
  10          * 【程序功能】：        8*8点阵显示1个点                                                                            
  11          * 【使用说明】：        正确安装好点阵模块
  12          **********************************************************************************/
  13          #include <reg52.h>
  14          sbit DIO  = P3^4; //串行数据口
  15          sbit S_CLK = P3^5;//移位寄存器时钟
  16          sbit R_CLK = P3^6;//输出锁存器时钟
  17          void main()
  18          {
  19   1              //ROW 0x80 , COL 0xfe
  20   1              unsigned char i, dat;//i循环次数  dat需要发送的数据
  21   1              dat = 0xfe;//发送列值
  22   1              for(i=0; i<8; i++)//循环8次
  23   1              {
  24   2                      S_CLK = 0;//拉低移位寄存器时钟
  25   2                      R_CLK = 0;//拉低输出锁存器时钟
  26   2                      if(dat & 0x01)//发送1
  27   2                              DIO = 1;
  28   2                      else              //发送0
  29   2                              DIO = 0;
  30   2                      S_CLK = 1;//拉高移位寄存器时钟，数据移位
  31   2                      dat >>= 1;//数据右移
  32   2              }
  33   1              dat = 0x80;//发送行值
  34   1              for(i=0; i<8; i++)//循环8次
  35   1              {
  36   2                      S_CLK = 0;//拉低移位寄存器时钟
  37   2                      R_CLK = 0;//拉低输出锁存器时钟
  38   2                      if(dat & 0x01)//发送1
  39   2                              DIO = 1;
  40   2                      else              //发送0
  41   2                              DIO = 0;
  42   2                      S_CLK = 1;//拉高移位寄存器时钟，数据移位
  43   2                      dat >>= 1;//数据右移
  44   2              }
  45   1              R_CLK = 1;//拉高输出锁存器时钟，并行输出数据
  46   1              while(1);
  47   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     60    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
C51 COMPILER V9.00   MAIN                                                                  02/23/2018 16:28:58 PAGE 2   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
